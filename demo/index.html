<html>
  <head>
    <title>Notochord Demo</title>
    <link rel="stylesheet" href="demo.css"/>
  </head>
  <body>
    <div class="container">
      <h1>Notochord Demo</h1>
      <p>
        Notochord is a lead-sheet editor and chord player inspired by iReal Pro.
        It's still in development so expect bugs and missing functionality.
        Check out the <a href="https://github.com/notochord/notochord">repo on
        GitHub</a> for more details. Here are a few things to try:
      </p>
      <ul class="leftul">
        <li>Change the transposition</li>
        <li>Change the style</li>
        <li>Click on a beat to edit it</li>
        <li>When editing a beat, try using all 4 arrow keys</li>
      </ul>
      <h2>Example</h2>
      <div id="notochordContainer" class="centeredBlock"></div>
      <div id="controls">
        <button id="play">&#9654; Play</button>
        <button id="stop">&#9632; Stop</button>
        <div class="controlGroup">
          Transpose:<br/>
          <select id="transpose">
            <option selected>C</option>
            <option>Db</option>
            <option>D</option>
            <option>Eb</option>
            <option>E</option>
            <option>F</option>
            <option>Gb</option>
            <option>G</option>
            <option>Ab</option>
            <option>A</option>
            <option>Bb</option>
            <option>B</option>
          </select>
        </div>
        <div class="controlGroup">
          Tempo:<br/>
          <input id="tempo" type="range" min="60" max="220" value="160"/>
        </div>
        <div class="controlGroup">
          Style:<br/>
          <select id="style">
          </select>
        </div>
        <div class="controlGroup">
          Scale Degrees:<br/>
          <input id="scaleDegrees" type="checkbox" />
        </div>
      </div>
      <p>Here's the code that made that happen:</p>
      <pre id="code" class="centeredBlock">
this probably isn't displaying because the protocol is file://
you can view the code <a href="./demo/demo.js">here</a>.</pre>
    </div>
    <h2>Credit</h2>
    <ul class="leftul">
      <li>
        This uses 2 awesome packages to handle some of the Theory math:
        <a href="https://github.com/nolanlawson/chord-magic">ChordMagic</a> and
        <a href="https://github.com/danigb/tonal">Tonal</a>.
      </li>
      <li>
        Various symbols adapted from images from Wikimedia Commons (all are in
        the public domain):
      </li>
      <ul>
        <li><a href="https://commons.wikimedia.org/wiki/Category:SVG_musical_notation">Musical symbols</a></li>
        <li><a href="https://commons.wikimedia.org/wiki/File:Greek_uc_delta.svg">Delta</a></li>
      </ul>
      <li>
        Uses a CommonJS port of
        <a href="https://github.com/mudcube/MIDI.js">MIDI.js</a>
        and a JS port of FluidR3_GM.sf2 found
        <a href="https://github.com/gleitz/midi-js-soundfonts">here</a>.
        Drum sounds are also from FluidR3_GM.sf2.
      </li>
    </ul>
    <script src="../notochord.js"></script>
    <script src="demo.js"></script>
    <script>
    if(location.protocol.indexOf('file') == -1) {
      fetch('./demo.js').then(r => {
        if(!r.ok) throw r;
        return r.text()
      }).then(r => {
        document.querySelector('#code').textContent = r;
      }).catch(e => e);
    }
    </script>
  </body>
</html>
